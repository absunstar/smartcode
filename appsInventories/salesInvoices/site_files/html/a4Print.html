<style>
    .logoPrint {
        width: 130px;
        height: 110px;
        margin: 0.7px;
        padding: 0.5px;
        border-radius: 0;
        border: 0.7px solid var(--background-color);
    }
</style>
<div ng-repeat="sInvoice in invList">
    <div class="border page-a4">
        <div class="row">
            <div class="col-5 center">
                <div class="row">
                    <h4 class="center bold">##session.company.nameEn##</h4>
                </div>
                <div class="row">
                    <h5 class="center bold">##session.branch.nameEn##</h5>
                </div>
                <div class="row center" ng-repeat="i in setting.printerProgram.invoiceHeader2">
                    <p class="font-12 bold black center">{{i.name}}</p>
                </div>
            </div>

            <div class="col-2 center">
                <img ng-show="invoiceLogo" class="logoPrint" ng-src="{{invoiceLogo}}" />
            </div>

            <div class="col-5 center">
                <div class="row">
                    <h4 class="center bold">##session.company.nameAr##</h4>
                </div>
                <div class="row">
                    <h5 class="center bold">##session.branch.nameAr##</h5>
                </div>
                <div class="row center" ng-repeat="i in setting.printerProgram.invoiceHeader">
                    <p class="font-12 bold black center">{{i.name}}</p>
                </div>
            </div>
        </div>

        <div class="row center" ng-show="##session.company.taxNumber##">
            <p class="center black bold font-12">Tax No. : ##session.company.taxNumber## / الرقم الضريبي</p>
            <p class="center black bold txt18">Tax Invoice / فاتورة ضريبية</p>
            <p ng-show="sInvoice.returned" class="center black bold txt18">Return NOTICE ( {{item.invoiceCode}} ) / إشعار مرتجع</p>
        </div>
        <hr />

        <div class="row full">
            <div class="center col-6 border-1">
                <div class="col-3"><p class="black font-12">Date</p></div>
                <div class="col-6"><p class="black font-12">{{sInvoice.date |date:"dd - MM - yyyy : hh - mm a" }}</p></div>
                <div class="col-3"><p class="black font-12">التاريخ</p></div>
            </div>

            <div class="center col-6 border-1">
                <div class="col-3">
                    <p class="black font-12">Invoice No.</p>
                </div>
                <div class="col-6"><p class="font-12 userPrint">{{sInvoice.code}}</p></div>
                <div class="col-3">
                    <p class="black font-12">رقم الفاتورة</p>
                </div>
            </div>
        </div>
        <div class="row full">
            <div class="center col-6 border-1" ng-hide="##query.type## == 5">
                <div class="col-3"><p class="black font-12">Pay Method</p></div>
                <div class="col-6"><p class="black font-12">{{sInvoice.paymentType.name##session.lang##}}</p></div>
                <div class="col-3"><p class="black font-12">طريقة الدفع</p></div>
            </div>

            <div class="center col-6 border-1" ng-hide="##query.type## == 5">
                <div class="col-3">
                    <p class="black font-12">Sales Invoice</p>
                </div>
                <div class="col-6"><p class="font-12 userPrint">{{sInvoice.paymentType.name##session.lang##}}</p></div>
                <div class="col-3">
                    <p class="black font-12">فاتورة مبيعات</p>
                </div>
            </div>
        </div>
        <div class="row full">
            <div class="center col-6 border-1" ng-show="item.salesType.code == 'customer'">
                <div class="col-3">
                    <p class="black font-12">Customer</p>
                </div>
                <div class="col-6"><p class="font-12 userPrint">{{sInvoice.customer.name##session.lang##}}</p></div>
                <div class="col-3">
                    <p class="black font-12">العميل</p>
                </div>
            </div>

            <div class="center col-6 border-1" ng-show="item.salesType.code == 'customer'">
                <div class="col-3"><p class="black font-12">Mobile :</p></div>
                <div class="col-6"><p class="black font-12">{{sInvoice.customer.mobile }}</p></div>
                <div class="col-3"><p class="black font-12">: الجوال</p></div>
            </div>
        </div>
        <div class="row full">
            <div class="center col-6 border-1" ng-show="item.salesType.code == 'company'">
                <div class="col-3">
                    <p class="black font-12">Company</p>
                </div>
                <div class="col-6"><p class="font-12 userPrint">{{sInvoice.company.name##session.lang##}}</p></div>
                <div class="col-3">
                    <p class="black font-12">الشركة</p>
                </div>
            </div>

            <div class="center col-6 border-1" ng-show="item.salesType.code == 'company'">
                <div class="col-3"><p class="black font-12">Mobile :</p></div>
                <div class="col-6"><p class="black font-12">{{sInvoice.company.mobile }}</p></div>
                <div class="col-3"><p class="black font-12">: الجوال</p></div>
            </div>
        </div>
        <div class="row full">
            <div class="center col-6 border-1" ng-show="item.salesType.code == 'patient'">
                <div class="col-3">
                    <p class="black font-12">Patient</p>
                </div>
                <div class="col-6"><p class="font-12 userPrint">{{sInvoice.doctorDeskTop.patient.fullName##session.lang##}}</p></div>
                <div class="col-3">
                    <p class="black font-12">المريض</p>
                </div>
            </div>

            <div class="center col-6 border-1" ng-show="item.salesType.code == 'patient'">
                <div class="col-3"><p class="black font-12">Mobile</p></div>
                <div class="col-6"><p class="black font-12">{{sInvoice.doctorDeskTop.patient.mobile }}</p></div>
                <div class="col-3"><p class="black font-12">الجوال</p></div>
            </div>
        </div>
        <div class="row full">
            <div class="border-1 row" ng-show="item.salesType.code == 'company'">
                <div class="col-4">
                    <p class="black font-12">VAT Registration Number</p>
                </div>
                <div class="col-4"><p class="font-12 userPrint">{{sInvoice.customer.taxIdentificationNumber}}</p></div>
                <div class="col-4">
                    <p class="black font-12">رقم تسجيل ضريبة القيمة المضافة</p>
                </div>
            </div>
        </div>
        <div class="row full">
            <div class="border-1 col-12">
                <div class="col-3">
                    <p class="black font-12">Notes</p>
                </div>
                <div class="col-6"><p class="font-12 userPrint">{{sInvoice.notes}}</p></div>
                <div class="col-3">
                    <p class="black font-12">ملاحظات</p>
                </div>
            </div>
        </div>

        <div class="row full">
            <table class="table center bold hover details">
                <tr>
                    <th class="width-15-mm font-10">
                        <p>مسلسل</p>
                        <p>Serial</p>
                    </th>

                    <th class="width-15-mm font-10">
                        <p>رقم الصنف</p>
                        <p>Item No.</p>
                    </th>

                    <th class="width-60-mm font-10">
                        <p>إسم الصنف</p>
                        <p>Item Name</p>
                    </th>

                    <th class="width-15-mm font-10">
                        <p>DISC 1</p>
                        <p>T. DISC 1</p>
                    </th>

                    <th class="width-15-mm font-10">
                        <p>DISC 2</p>
                        <p>T. DISC 2</p>
                    </th>

                    <th class="width-15-mm font-10">
                        <p>الكمية</p>
                        <p>Qty.</p>
                    </th>

                    <th class="width-15-mm font-10">
                        <p>سعر الوحدة</p>
                        <p>Unit Price</p>
                    </th>

                    <th class="width-15-mm font-10" ng-show="setting.storesSetting.vat > 0">
                        <p>VAT PER.</p>
                        <p>VAT</p>
                    </th>

                    <th class="width-15-mm font-10">
                        <p>الإجمالي</p>
                        <p>Total Net</p>
                    </th>
                </tr>

                <tr ng-repeat="itm in sInvoice.itemsList">
                    <td class="center width-15-mm font-12">{{itm.$index}}</td>
                    <td class="center width-15-mm font-12">{{itm.barcode}}</td>

                    <td class="center width-60-mm">
                        <p class="font-12">{{itm.nameAr}} ( {{itm.unit.nameAr}} )</p>
                        <p class="font-12">{{itm.nameEn}} ( {{itm.unit.nameEn}} )</p>
                        <p ng-repeat="b in itm.batchesList" ng-show="b.count > 0">
                            <span class="" ng-show="b.productionDate"> {{b.productionDate| date : 'dd-MM-yyyy'}} &nbsp; </span>
                            <span class="" ng-show="b.expiryDate"> {{b.expiryDate| date : 'dd-MM-yyyy'}} &nbsp; </span>
                            <span class="" ng-show="b.code && !itm.workByQrCode"> {{b.code}} ({{b.count}}##word.+##) </span>
                            <span class="" ng-show="itm.workByQrCode"> {{b.gtin}} ({{b.count}}##word.+##) </span>
                        </p>
                    </td>

                    <td class="center width-15-mm font-12">
                        <p>{{itm.extraDiscount}} <span class="currency">##word.%##</span></p>
                        <p>{{itm.totalExtraDiscount}} <span class="currency">##word.$##</span></p>
                    </td>

                    <td class="center width-15-mm font-12">
                        <p>
                            {{itm.discount}}
                            <span ng-show="itm.discountType =='value'" class="currency"> ##word.$##</span>
                            <span ng-show="itm.discountType =='percent'" class="currency"> ##word.%##</span>
                        </p>
                        <p>{{itm.totalDiscount}} <span class="currency">##word.$##</span></p>
                    </td>

                    <td class="center width-15-mm font-12">{{itm.count}}</td>

                    <td class="center width-15-mm font-12">{{itm.price | xmoney2}} <span class="currency">##word.$##</span></td>

                    <td class="center width-15-mm font-12" ng-show="setting.storesSetting.vat > 0">
                        <p>{{itm.vat | xmoney2}} <span class="currency">##word.%##</span></p>
                        <p>{{itm.totalVat | xmoney2}} <span class="currency">##word.$##</span></p>
                    </td>
                    <td class="center width-15-mm font-12">
                        <p>{{itm.totalBeforeVat | xmoney2}} <span class="currency">##word.$##</span></p>
                        <p>{{itm.total | xmoney2}} <span class="currency">##word.$##</span></p>
                    </td>
                </tr>
            </table>
        </div>

        <div class="footer">
            <div class="row full">
                <div class="center col-6 border-1">
                    <div class="col-4"><p class="font-12">Total Items DISC</p></div>
                    <div class="col-4">
                        <p class="bold black">{{sInvoice.totalItemsDiscounts | xmoney2}} <span class="currency">##word.$##</span></p>
                    </div>
                    <div class="col-4"><p class="font-12">إجمالي خصم الأصناف</p></div>
                </div>

                <div class="center col-6 border-1">
                    <div class="col-4"><p class="font-12">Total Items DISC</p></div>
                    <div class="col-4">
                        <p class="bold black">{{sInvoice.totalItemsDiscounts | xmoney2}} <span class="currency">##word.$##</span></p>
                    </div>
                    <div class="col-4"><p class="font-12">إجمالي خصم الأصناف</p></div>
                </div>
            </div>
        </div>
        <div class="row full">
            <div class="center col-6 border-1">
                <div class="col-4"><p class="font-12">VAT</p></div>
                <div class="col-4">
                    <p class="bold black">{{sInvoice.totalVat | xmoney2}} <span class="currency">##word.$##</span></p>
                </div>
                <div class="col-4"><p class="font-12">ضريبة القيمة المضافة</p></div>
            </div>

            <div class="center col-6 border-1">
                <div class="col-4"><p class="font-12">Total Before Tax</p></div>
                <div class="col-4">
                    <p class="bold black">{{sInvoice.totalBeforeVat | xmoney2}} <span class="currency">##word.$##</span></p>
                </div>
                <div class="col-4"><p class="font-12">الإجمالي قبل الضريبة</p></div>
            </div>
        </div>

        <div class="row full">
            <div class="center col-6 border-1">
                <div class="col-4" class="font-12"><p>Total After Tax</p></div>
                <div class="col-4">
                    <p class="bold black">{{sInvoice.totalAfterVat | xmoney2}} <span class="currency">##word.$##</span></p>
                </div>
                <div class="col-4"><p class="font-12">الإجمالي بعد الضريبة</p></div>
            </div>

            <div class="center col-6 border-1">
                <div class="col-4"><p class="font-12">Cash Discount</p></div>
                <div class="col-4">
                    <p class="bold black">{{sInvoice.totalDiscounts | xmoney2}} <span class="currency">##word.$##</span></p>
                </div>
                <div class="col-4"><p class="font-12">الخصم النقدي</p></div>
            </div>
        </div>

        <div class="row full">
            <div class="center col-6 border-1">
                <div class="col-4"><p class="font-12">Cash TAX</p></div>
                <div class="col-4">
                    <p class="bold black">{{sInvoice.totalTaxes | xmoney2}} <span class="currency">##word.$##</span></p>
                </div>
                <div class="col-4"><p class="font-12">الضريبة النقدي</p></div>
            </div>

            <div class="center col-6 border-1">
                <div class="col-4"><p class="font-12">Paid</p></div>
                <div class="col-4">
                    <p class="bold black">{{sInvoice.totalNet | xmoney2}} <span class="currency">##word.$##</span></p>
                </div>
                <div class="col-4"><p class="font-12">المدفوع</p></div>
            </div>
        </div>

        <div class="row full">
            <div class="center col-6 border-1">
                <span class="qrcode-a4"></span>
            </div>

            <div class="center col-6 border-1" style="padding: 50px">
                <div class="col-4"><p class="font-12">Total</p></div>
                <div class="col-4">
                    <p class="bold black">{{sInvoice.totalPrice | xmoney2}} <span class="currency">##word.$##</span></p>
                </div>
                <div class="col-4"><p class="font-12">المجموع</p></div>
            </div>
        </div>

        <div class="row full">
            <div class="row" ng-show="setting.printerProgram.printWrittenAmount">
                <div class="col-1"></div>
                <div class="col-11">
                    <p ng-show="'##session.lang##' == 'Ar'" class="numStr bold center black">{{sInvoice.netTxt}} {{setting.accountsSetting.endNumStrAr || ''}}</p>
                    <p ng-show="'##session.lang##' == 'En'" class="numStr bold center black">{{sInvoice.netTxt}} {{setting.accountsSetting.endNumStrAr || ''}}</p>
                </div>
                <hr />
            </div>
        </div>

        <div class="row full">
            <div class="col-6 border-1">
                <p class="font-12 black">Receiver / المستلم</p>
                <p class="black">Name / الإسم</p>
                <p class="black">Signature / التوقيع</p>
            </div>

            <div class="col-6 border-1">
                <p class="font-12 black">Sales Man / المندوب</p>
                <p class="black">Name / الإسم</p>
                <p class="black">Signature / التوقيع</p>
            </div>
        </div>
        <hr />

        <div class="row padding" ng-repeat="i in setting.printerProgram.invoiceFooter">
            <p class="font-12 bold black center">{{i.name}}</p>
        </div>

        <p class="font-12 center bold black">Page {{$index + 1}} / {{invList.length}}</p>
    </div>
</div>
