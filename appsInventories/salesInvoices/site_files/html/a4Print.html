<div ng-repeat="sInvoice in invList" class="page">
  <div class="border" style="background-color: #f1f1f1;">
    <div class="row">
      <div class="row">
        <div class="col-6">
          <div class="row">
            <div class="col-5">
              <p class="black font-13" ng-show="item.customer.commercialCustomer" style="color: black;" >Tax Invoice</p>
              <p class="black font-13" ng-show="!item.customer.commercialCustomer ">Simplified Invoice</p>
            </div>
            <div class="col-2"></div>
            <div class="col-5">
              <p class="black font-13 text-right" ng-show="item.customer.commercialCustomer">فاتورة ضريبية</p>
              <p class="black font-13 text-right" ng-show="!item.customer.commercialCustomer ">فاتورة مبسطة</p>
            </div>
            <hr class="line" />
          </div>
          <div class="row" ng-show="!sInvoice.returned">
            <div class="col-5">
              <p class="black font-13">Sales Invoice No</p>
            </div>
            <div class="col-2">
              <p class="black bold font-13">({{item.code}})</p>
            </div>
            <div class="col-5">
              <p class="black font-13 text-right">فاتورة مبيعات رقم</p>
            </div>
            <hr class="line" />
          </div>

          <div class="row" ng-show="sInvoice.returned">
            <div class="col-5">
              <p class="black font-13">Sales Return No</p>
            </div>
            <div class="col-2">
              <p class="black bold font-13">({{item.code}})</p>
            </div>
            <div class="col-5">
              <p class="black font-13 text-right">مرتجع مبيعات رقم</p>
            </div>
            <hr class="line" />
          </div>
          <div class="row" ng-show="sInvoice.returned">
            <div class="col-5">
              <p class="black font-13">Return NOTICE No</p>
            </div>
            <div class="col-2">
              <p class="black bold font-13">({{item.invoiceCode}})</p>
            </div>
            <div class="col-5">
              <p class="black font-13 text-right">إشعار مرتجع رقم</p>
            </div>
            <hr class="line" />
          </div>
          <div class="row">
            <div class="col-2">
              <p class="black font-13">Date</p>
            </div>
            <div class="col-8">
              <p class="black font-13">{{sInvoice.date |date:" hh:mm a" }} <i class="fas fa-clock"></i> {{sInvoice.date |date:"dd/MM/yyyy" }} <i class="fas fa-calendar-alt font-13"></i></p>
            </div>
            <div class="col-2">
              <p class="black font-13 text-right">التاريخ</p>
            </div>
            <hr class="line" />
          </div>
          <div class="row" ng-show="setting.printerProgram.paymentMethodShow">
            <div class="col-5">
              <p class="black font-13">Payment Method</p>
            </div>
            <div class="col-3">
              <p class="black font-13">{{sInvoice.paymentList[0].paymentType.name##session.lang## || sInvoice.paymentType.name##session.lang##}} <i class="fas fa-money-check-alt"></i></p>
            </div>
            <div class="col-4">
              <p class="black font-13 text-right">طريقة الدفع</p>
            </div>
            <hr class="line" />
          </div>
        </div>
        <div class="col-6 text-right" ng-show="invoiceLogo">
          <img class="logoPrint" ng-src="{{invoiceLogo}}" />
        </div>
      </div>
      <div class="row border-bottom padding">
        <div class="col-6">
          <div class="row">
            <p class="black font-12 text-right col-4" ng-show="setting.phone">{{setting.phone}} <i class="fas fa-phone"></i></p>
            <p class="black font-12 text-right col-8" ng-show="setting.socialEmail">{{setting.socialEmail}} <i class="fas fa-envelope"></i></p>
          </div>
          <div class="row">
            <p class="black font-12 text-right col-4" ng-show="setting.mobile">{{setting.mobile}} <i class="fas fa-mobile-alt"></i></p>
            <p class="black font-12 text-right col-8" ng-show="setting.website">{{setting.website}} <i class="fas fa-globe"></i></p>
            <p class="black font-12 text-right" ng-show="setting.gov.id">
              {{setting.area.name##session.lang##}} {{setting.city.name##session.lang##}} {{setting.gov.name##session.lang##}} <i class="fas fa-map-marker-alt"></i>
            </p>
          </div>
          <div class="row" ng-show="setting.address">
            <p class="black font-12 text-right pre-line">{{setting.address}} <i class="fas fa-map-marked"></i></p>
          </div>
        </div>
        <div class="col-6">
          <div class="row">
            <p class="font-16 text-right bold">##session.company.nameAr##</p>
            <p class="font-16 text-right bold">##session.company.nameEn##</p>
            <p class="text-right bold font-14">##session.branch.nameEn## ##session.branch.nameAr##</p>
            <div class="row">
              <p class="black bold font-13 text-right" ng-show="setting.taxNumber">({{setting.taxNumber}}) : TRN/الرقم الضريبي</p>
            </div>
          </div>
        </div>
      </div>

      <div class="row padding" ng-show="item.customer && item.customer.id">
        <div class="row bg-lightGray">
          <div class="col-4">
            <p class="black font-15">Customer Data</p>
          </div>
          <div class="col-4"></div>
          <div class="col-4">
            <p class="black font-15 text-right">بيانات العميل</p>
          </div>
        </div>
        <div class="col-6">
          <div class="row">
            <div class="row">
              <p class="black font-12 text-right col-4" ng-show="item.customer.phone">{{item.customer.phone}} <i class="fas fa-phone"></i></p>
              <p class="black font-12 text-right col-8" ng-show="item.customer.socialEmail">{{item.customer.socialEmail}} <i class="fas fa-envelope"></i></p>
            </div>
            <div class="row">
              <p class="black font-12 text-right col-4" ng-show="item.customer.mobile">{{item.customer.mobile}} <i class="fas fa-mobile-alt"></i></p>
              <p class="black font-12 text-right col-8" ng-show="item.customer.website">{{item.customer.website}} <i class="fas fa-globe"></i></p>
            </div>
            <p class="black font-12 text-right" ng-show="item.customer.gov.id">
              {{item.customer.area.name##session.lang##}} {{item.customer.city.name##session.lang##}} {{item.customer.gov.name##session.lang##}} <i class="fas fa-map-marker-alt"></i>
            </p>
          </div>
          <div class="row" ng-show="item.customer.address">
            <p class="black font-12 text-right pre-line">{{item.customer.address}} <i class="fas fa-map-marked"></i></p>
          </div>
        </div>
        <div class="col-6">
          <div class="row">
            <p class="font-15 text-right">{{sInvoice.customer.nameAr}}</p>
            <p class="font-15 text-right">{{sInvoice.customer.nameEn}}</p>
          </div>
          <div class="row" ng-show="sInvoice.customer.taxIdentificationNumber && item.customer.commercialCustomer">
            <p class="black font-13 text-right">({{sInvoice.customer.taxIdentificationNumber}}) : TRN/الرقم الضريبي للعميل</p>
          </div>
        </div>
      </div>

      <br />
      <br />

      <div class="row full">
        <table class="table center details">
          <tr class="bold">
            <th class="width-15-mm font-10" style="background: #dedcdc !important">
              <p>الإجمالي</p>
              <p>Total</p>
            </th>

            <th class="width-15-mm font-10" style="background: #dedcdc !important" ng-show="setting.storesSetting.vat > 0">
              <p>VAT</p>
              <p>VAT PER.</p>
            </th>
            <th class="width-15-mm font-10" style="background: #dedcdc !important">
              <p>سعر الوحدة</p>
              <p>Unit Price</p>
            </th>
            <th class="width-15-mm font-10" style="background: #dedcdc !important">
              <p>الكمية</p>
              <p>Qty.</p>
            </th>

            <th class="width-15-mm font-10" style="background: #dedcdc !important">
              <p>الخصومات</p>
              <p>Total DISC</p>
            </th>

            <th class="width-60-mm font-10" style="background: #dedcdc !important">
              <p>إسم الصنف</p>
              <p>Item Name</p>
            </th>
            <th class="width-15-mm font-10" style="background: #dedcdc !important">
              <p>رقم الصنف</p>
              <p>Item No.</p>
            </th>
          </tr>

          <tr ng-repeat="itm in sInvoice.itemsList">
            <td class="center width-15-mm font-12">
              <p>{{itm.total | xmoney2}} <span class="currency">##word.$##</span></p>
            </td>
            <td class="center width-15-mm font-12" ng-show="setting.storesSetting.vat > 0">
              <p>{{itm.totalVat | xmoney2}} <span class="currency">##word.$##</span></p>
              <p>{{itm.vat | xmoney2}} <span class="currency">##word.%##</span></p>
            </td>
            <td class="center width-15-mm font-12">{{itm.price | xmoney2}} <span class="currency">##word.$##</span></td>
            <td class="center width-15-mm font-12">{{itm.count}}</td>
            <td class="center width-15-mm font-12">
              <p>{{itm.totalDiscounts | xmoney2}} <span class="currency">##word.$##</span></p>
            </td>
            <td class="center width-60-mm">
              <!-- <p class="font-12">{{itm.nameAr}} ( {{itm.unit.nameAr}} )</p> -->
              <p class="font-12">{{itm.name##session.lang##}} <span ng-show="setting.printerProgram.showUnit">( {{itm.unit.name##session.lang##}} )</span></p>
              <p ng-repeat="b in itm.batchesList" ng-show="b.count > 0">
                <span class="" ng-show="b.productionDate"> {{b.productionDate| date : 'dd-MM-yyyy'}} &nbsp; </span>
                <span class="" ng-show="b.expiryDate"> {{b.expiryDate| date : 'dd-MM-yyyy'}} &nbsp; </span>
                <span class="" ng-show="b.code && !itm.workByQrCode"> {{b.code}} ({{b.count}}##word.+##) </span>
                <span class="" ng-show="itm.workByQrCode"> {{b.gtin}} ({{b.count}}##word.+##) </span>
              </p>
            </td>
            <td class="center width-15-mm font-12">{{itm.barcode}}</td>
          </tr>
        </table>
      </div>

      <div class="footer">
        <div class="row full" ng-show="($index+1) == invList.length">
          <div class="row">
            <div class="col-7">
              <div class="row">
                <div class="col-4"><p class="font-12">T. Discounts </p></div>
                <div class="col-4 center">
                  <p class="bold black center font-12">{{sInvoice.totalDiscounts | xmoney2}} <span class="currency">##word.$##</span></p>
                </div>
                <div class="col-4"><p class="font-12 right"> إجمالي خصومات</p></div>
              </div>
              <hr class="line" ng-show="setting.storesSetting.vat > 0" />
              <div class="row">
                <div class="col-4"><p class="font-12">T. Before VAT </p></div>
                <div class="col-3 center">
                  <p class="bold black center font-12">{{sInvoice.totalBeforeVat | xmoney2}} <span class="currency">##word.$##</span></p>
                </div>
                <div class="col-5"><p class="font-12 right"> إجمالي قبل الضريبة</p></div>
              </div>
              <hr class="line" ng-show="setting.storesSetting.vat > 0" />
              <div class="row">
                <div class="col-4"><p class="font-12">T. VAT </p></div>
                <div class="col-4 center">
                  <p class="bold black center font-12">{{sInvoice.totalVat | xmoney2}} <span class="currency">##word.$##</span></p>
                </div>
                <div class="col-4"><p class="font-12 right"> إجمالي ضريبة</p></div>
              </div>

              <hr class="line" />

              <div class="row bg-lightGray">
                <div class="col-4"><p class="font-12 bold">Total Inv. </p></div>
                <div class="col-3 center">
                  <p class="bold black center font-12">{{sInvoice.totalNet | xmoney2}} <span class="currency">##word.$##</span></p>
                </div>
                <div class="col-5"><p class="font-12 right bold"> إجمالي الفاتورة</p></div>
              </div>
              <hr class="line" />
              <!--   <div class="row">
              <div class="col-4"><p class="font-12">Total :</p></div>
              <div class="col-4">
                <p class="bold black">{{sInvoice.totalNet | xmoney2}} <span class="currency">##word.$##</span></p>
              </div>
              <div class="col-4"><p class="font-12">: الإجمالي</p></div>
            </div>
            <hr class="line" /> -->
            </div>
            <div class="col-5">
              <div class="center">
                <span class="qrcode-a4"></span>
              </div>
            </div>
          </div>

          <div class="row full">
            <div class="row" ng-show="setting.printerProgram.printWrittenAmount">
              <div class="col-1"></div>
              <div class="col-11">
                <p ng-show="'##session.lang##' == 'Ar'" class="numStr bold center black">{{sInvoice.netTxt}} {{setting.accountsSetting.endNumStrAr || ''}}</p>
                <p ng-show="'##session.lang##' == 'En'" class="numStr bold center black">{{sInvoice.netTxt}} {{setting.accountsSetting.endNumStrAr || ''}}</p>
              </div>
            </div>
          </div>
        </div>

        <div class="row" ng-show="sInvoice.notes">
          <p class="black height-50 bg-lightGray font-13 text-right pre-line">{{sInvoice.notes}}</p>
        </div>

        <div class="row full" ng-show="setting.printerProgram.signatureShow">
          <div class="col-6 border-1">
            <p class="font-12 black">Receiver / المستلم</p>
            <p class="black">Name / الإسم</p>
            <p class="black">Signature / التوقيع</p>
          </div>

          <div class="col-6 border-1">
            <p class="font-12 black">Customer / العميل</p>
            <p class="black">Name / الإسم</p>
            <p class="black">Signature / التوقيع</p>
          </div>
        </div>

        <div class="row padding" ng-repeat="i in setting.printerProgram.invoiceFooter">
          <p class="font-12 bold black center">{{i.name}}</p>
        </div>

        <p class="font-12 center bold black">Page {{$index + 1}} / {{invList.length}}</p>
      </div>
    </div>
  </div>
</div>
